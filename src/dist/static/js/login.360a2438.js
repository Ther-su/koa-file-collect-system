(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0726":function(e,r,t){"use strict";t("3f05")},"3f05":function(e,r,t){},"9ed6":function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginFormRef",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginFormRules}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v(" 作业收集系统登录 ")])]),t("el-form-item",{attrs:{prop:"userName",label:"用户名"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user"},model:{value:e.loginForm.userName,callback:function(r){e.$set(e.loginForm,"userName",r)},expression:"loginForm.userName"}})],1),t("el-form-item",{attrs:{prop:"password",label:"密码"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),t("el-form-item",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleLogin}},[e._v("登录")]),t("el-button",{attrs:{type:"default"},on:{click:e.toRegister}},[e._v("还没有账户?去注册")])],1)],1)],1)},o=[],s=(t("4538"),t("5e68"),{data:function(){return{loading:!1,loginForm:{userName:"伊藤美来",password:"SU123456"},loginFormRules:{userName:[{required:!0,message:"请输入登录用户名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},watch:{$route:{handler:function(e){var r=e.query;r&&(this.redirect=r.redirect,this.otherQuery=this.getOtherQuery(r))},immediate:!0}},methods:{toRegister:function(){this.$router.push("/register")},handleLogin:function(){var e=this;this.$refs.loginFormRef.validate((function(r){if(!r)return!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$message({message:"登录成功",type:"success"}),e.loading=!1,e.$router.push({path:e.redirect||"/",query:e.otherQuery})})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(r,t){return"redirect"!==t&&(r[t]=e[t]),r}),{})}}}),n=s,a=(t("0726"),t("5d22")),l=Object(a["a"])(n,i,o,!1,null,"0949e33d",null);r["default"]=l.exports}}]);